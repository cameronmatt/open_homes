class OpenHomes::OpensScraper

    # attr_accessor :base_url, :html, :document

    # def initialize
    #     @base_url = "https://www.stonerealestate.com.au/buy/open-sales/"
    #     @html = open(@base_url)
    #     @document = Nokogiri::HTML(html)
    # end

    # def scrape_dates
    #     self.document.css("a.color-default").collect do |dates|
            
    #     end
    # end


    attr_accessor :date_time, :inspection_time

    def self.upcoming
        doc = Nokogiri::HTML(open("https://www.highlandproperty.com.au/buying/open-homes/"))
        #binding.pry
        inspection_dates = doc.css(".date-time-heading")
        inspection_dates.collect do |date|
            opens = self.new 
            opens.date_time = date.text.strip
            opens
        end
    end
end

class OpenHomes::ScrapeProperty

    def self.scrape_property
        doc = Nokogiri::HTML(open("https://www.coastandcountryfn.com.au/buy/open-homes/"))
        #binding.pry
        open_inspection = doc.css(".list-property .time_cell")
        open_inspection.map do |inspection|
            inspection = self.new 
            inspection.inspection_time = inspection.text.strip
            inspection
        end
    end
end


# doc.css("span.date").first.text

def scrape_courses
    self.document.css(".list-entry").collect do |course|
        date = course.css(".entry-title").text.strip
        address = course.css(".").text.strip
        time = course.css(".").text.strip
        url = course.css("a.entry-action").attr("href").value.strip
    end
end